@inject IOptions<AppSettings> AppSettings
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
        @if(!String.IsNullOrWhiteSpace(ViewBag.PageTitle))
{@ViewBag.PageTitle
}
else
{
    @String.Concat(ViewBag.Title, " - ", AppSettings.Options.SiteTitle)
}
</title>

        <environment names="Development">
            <link rel="stylesheet" href="~/lib/furtive/css/furtive.css" />
            <link rel="stylesheet" href="~/lib/normalize.css/normalize.css" />
            <link rel="stylesheet" href="~/lib/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css"/>
            <link rel="stylesheet" href="~/lib/responsive-nav/client/src/styles/responsive-nav.css" />
            <link rel="stylesheet" href="~/css/site.css" />
        </environment>
        <environment names="Staging,Production">
            <link rel="stylesheet" href="~/lib/furtive/css/furtive.css" />
            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/normalize.min.css"
                  asp-fallback-href="~/lib/normalize.css/normalize.css"
                  asp-fallback-test-class="img" asp-fallback-test-property="border" asp-fallback-test-value="0" />
            <link rel="stylesheet" href="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.min.css"
                  asp-fallback-href="~/lib/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.min.css"
                  asp-fallback-test-class="mCustomScrollbar" asp-fallback-test-property="touch-action" asp-fallback-test-value="none" />
            <link rel="stylesheet" href="~/css/site.css" />
        </environment>
        @RenderSection("styles", required: false)
    </head>
    <body>
        <nav class="navigation">
            <a class="vtn-banner" asp-controller="Home" asp-action="Index"><img src="~/images/vtn_banner.png" /></a>
            <h1 class="page-title">@ViewBag.Title</h1>
            <div class="menu">
                @await Html.PartialAsync("_LoginPartial")
                <ul>
                    <li><a asp-controller="Teams" asp-action="Index">Teams</a></li>
                </ul>
            </div>
            <a class="menu-toggle">
                Hi
            </a>
        </nav>

        <div class="container body-content">
            @RenderBody()
            <hr />
            <footer>
                <p>&copy; @DateTime.Now.Year - @AppSettings.Options.SiteTitle</p>
            </footer>
        </div>

        <environment names="Development">
            <script src="~/lib/jquery/jquery.js"></script>
            <script src="~/lib/modernizr/modernizr.js"></script>
            <script src="~/lib/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.js"></script>
            <script src="~/lib/responsive-nav/responsive-nav.js"></script>
            <script src="~/js/fixed-responsive-nav.js"></script>
        </environment>
        <environment names="Staging,Production">
            <script src="//ajax.aspnetcdn.com/ajax/jquery/jquery-1.10.2.min.js"
                    asp-fallback-src="~/lib/jquery/jquery.min.js"
                    asp-fallback-test="window.jQuery">
            </script>
            <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"
                    asp-fallback-src="~/lib/foundadtion/js/vendor/modernizr.js"
                    asp-fallback-test="window.jQuery">
            </script>
            <script src="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.concat.min.js"
                    asp-fallback-src="~/lib/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"
                    asp-fallback-test="window.jQuery"></script>
        </environment>
        @RenderSection("scripts", required: false)
        <script>
            (function($){
                $(window).load(function(){
                    $(".page-title").mCustomScrollbar({
                        axis: "x",
                        theme:"minimal-dark",
                        autoExpandScrollbar: true,
                        advanced:{autoExpandHorizontalScroll:true},
                        scrollInertia: 5,
                        mouseWheel: {
                            deltaFactor: 10
                        }
                    });
                });
            })(jQuery);
        </script>
    </body>
</html>
